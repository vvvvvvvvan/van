<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>时光相册</title>
  <link rel="icon" href="favicon.png" type="image/png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100vw;
      min-height: 100vh;
      font-family: 'PingFang SC', 'Microsoft YaHei', Arial, sans-serif;
      background: #a9e3fe url('/blue-bg.jpg') no-repeat center center fixed;
      background-size: cover;
      overflow-x: hidden;
    }
    .page-title-row {
      display: flex;
      justify-content: center;
      align-items: flex-end;
      gap: 38px;
      margin-top: 38px;
      margin-bottom: 22px;
      width: 100vw;
      user-select: none;
    }
    .avatar-wrap {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .avatar {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      object-fit: cover;
      box-shadow: 0 2px 12px rgba(33,150,243,0.12);
      border: 3px solid #fff;
      background: #fff;
      margin-bottom: 7px;
    }
    .avatar-label {
      font-size: 1.02em;
      color: #1976d2;
      background: rgba(255,255,255,0.86);
      border-radius: 10px;
      padding: 2px 14px;
      font-weight: bold;
      letter-spacing: 2px;
      margin-top: 0;
    }
    .page-title {
      font-size: 2.3em;
      color: #1976d2;
      font-weight: bold;
      letter-spacing: 5px;
      text-align: center;
      margin: 0 18px;
      background: rgba(255,255,255,0.85);
      padding: 8px 32px;
      border-radius: 16px;
      box-shadow: 0 2px 8px rgba(33,150,243,0.08);
    }
    .main-content {
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100vw;
      max-width: 900px;
    }
    .section-title {
      font-size: 1.33em;
      font-weight: bold;
      color: #1976d2;
      margin: 22px 0 8px 0;
      letter-spacing: 2px;
      text-shadow: none;
      text-align: left;
      width: 92vw;
      max-width: 820px;
    }
    .photo-wall {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 15px;
      width: 92vw;
      max-width: 820px;
      margin: 0 auto 24px auto;
      background: rgba(255,255,255,0.91);
      padding: 18px 4px 13px 4px;
      border-radius: 18px;
      box-shadow: 0 2px 8px rgba(33,150,243,0.10);
    }
    .wall-photo {
      width: 100%;
      aspect-ratio: 1/1;
      object-fit: cover;
      border-radius: 13px;
      box-shadow: 0 2px 8px rgba(84,179,250,0.13);
      cursor: pointer;
      transition: transform 0.18s;
      border: 1.2px solid #a6d6fc;
    }
    .wall-photo:hover {
      transform: scale(1.04);
    }
    /* 相册区域 */
    .album-section {
      margin: 30px auto 0 auto;
      width: 92vw;
      max-width: 500px;
      background: rgba(255,255,255,0.96);
      border-radius: 22px;
      box-shadow: 0 4px 20px rgba(33,150,243,0.11);
      padding: 30px 10px 32px 10px;
      position: relative;
      text-align: center;
    }
    .album-img {
      width: 98%;
      max-height: 370px;
      object-fit: contain;
      border-radius: 16px;
      box-shadow: 0 2px 12px rgba(33,150,243,0.13);
      margin-bottom: 16px;
      background: #eaf6ff;
      border: 1.5px solid #a6d6fc;
    }
    .album-desc {
      font-size: 1.18em;
      color: #1e2c4d;
      margin-bottom: 8px;
      word-break: break-all;
    }
    .album-date {
      font-size: 0.98em;
      color: #3171c9;
      margin-bottom: 10px;
    }
    .arrow-btn {
      position: absolute;
      top: 46%;
      transform: translateY(-50%);
      font-size: 2.7em;
      color: #2196f3;
      background: none;
      border: none;
      cursor: pointer;
      padding: 0 10px;
      border-radius: 14px;
      transition: background 0.14s, color 0.18s;
      z-index: 2;
      opacity: 0.8;
      user-select: none;
    }
    .arrow-btn:active,
    .arrow-btn:hover {
      color: #1976d2;
      background: #e0f1ff;
    }
    .arrow-btn.left { left: 8px; }
    .arrow-btn.right { right: 8px; }
    .album-dots {
      margin: 14px 0 0 0;
      text-align: center;
    }
    .dot {
      display: inline-block;
      width: 13px; height: 13px;
      background: #b4d7fa;
      border-radius: 50%;
      margin: 0 5px;
      cursor: pointer;
      transition: background 0.2s, box-shadow 0.2s;
      box-shadow: 0 1px 4px rgba(84,179,250,0.11);
    }
    .dot.active {
      background: #2196f3;
      box-shadow: 0 2px 6px #b0ddfd88;
    }
    .back-home {
      display: inline-block;
      margin: 38px 0 22px 0;
      color: #2196f3;
      background: rgba(255,255,255,0.90);
      padding: 9px 30px;
      border-radius: 14px;
      text-decoration: none;
      font-size: 1.1em;
      font-weight: bold;
      box-shadow: 0 2px 8px rgba(84,179,250,0.08);
      border: 1.5px solid #a6d6fc;
      transition: background 0.18s;
    }
    .back-home:hover {
      background: #e6f5ff;
    }
    @media (max-width: 900px) {
      .main-content { max-width: 99vw;}
      .section-title { max-width: 97vw;}
      .photo-wall { max-width: 97vw;}
      .album-section { max-width: 97vw;}
    }
    @media (max-width: 600px) {
      .page-title-row { margin-top: 12px; margin-bottom: 8px; gap: 11px;}
      .page-title { font-size: 1.02em; margin: 0 8px; padding: 5px 9px;}
      .avatar { width: 43px; height: 43px;}
      .avatar-label { font-size: .93em; padding: 2px 8px;}
      .section-title { font-size: 1.01em; }
      .photo-wall { gap: 7px; padding: 5px 1px 4px 1px;}
      .album-section { padding: 10px 2px 10px 2px;}
      .album-img { border-radius: 10px; }
      .arrow-btn { font-size: 1.8em; }
      .dot { width: 9px; height: 9px; margin: 0 2px;}
      .back-home { margin: 18px 0 11px 0; padding: 6px 10px; font-size: 1em;}
    }
    #sakuraCanvas {
     position: fixed;
    left: 0; top: 0;
    width: 100vw;
    height: 100vh;
    pointer-events: none;
    z-index: 0;  /* 让它在背景层 */
    }

  </style>
</head>
<body>
<canvas id="sakuraCanvas"></canvas>
<div class="page-title-row">
  <div class="avatar-wrap">
    <img class="avatar" src="../A62A07FD46CF3AE4F9EA92855966E5E7.jpg" alt="van头像">
    <div class="avatar-label">van</div>
  </div>
  <span class="page-title">van 和 smader 的时光相册</span>
  <div class="avatar-wrap">
    <img class="avatar" src="../F0EA2A563C8A66514D51753ADA28B318.jpg" alt="smader头像">
    <div class="avatar-label">smader</div>
  </div>
</div>
<div class="main-content">

  <div class="section-title">精选照片墙</div>
  <div class="photo-wall" id="photoWall">
    <!-- 9张照片墙自动生成 -->
  </div>

  <div class="section-title" style="margin-bottom:4px;">翻页相册</div>
  <div class="album-section">
    <button class="arrow-btn left" id="prevAlbum">&lt;</button>
    <img class="album-img" id="albumImg" src="" alt="相册图片">
    <div class="album-desc" id="albumDesc"></div>
    <div class="album-date" id="albumDate"></div>
    <button class="arrow-btn right" id="nextAlbum">&gt;</button>
    <div class="album-dots" id="albumDots"></div>
  </div>
  <a class="back-home" href="../index.html">返回首页</a>
</div>
<script>
// 照片墙支持图片+视频
const photoWallImgs = [ 
  "wall2.jpg",
  "wall3.jpg",
  "wall4.jpg",
  "wall5.jpg",
   { type: "video", src: "./wall1.mp4"}, // 如果没有wall1.jpg封面，可以去掉cover这行
  "wall6.jpg",
  "wall7.jpg",
  "wall8.jpg",
  "wall9.jpg"
];

const wallEl = document.getElementById('photoWall');
photoWallImgs.forEach(item => {
  if (typeof item === "string") {
    // 普通图片
    const img = document.createElement('img');
    img.src = './wall/' + item;
    img.className = 'wall-photo';
    img.alt = item;
    img.onclick = () => window.open(img.src, "_blank");
    wallEl.appendChild(img);
  } else if (item.type === "video") {
    // 视频
    const video = document.createElement('video');
    video.src = './wall/' + item.src;
    video.className = 'wall-photo';
    video.controls = true;
    video.preload = "none";
    if (item.cover) video.poster = './wall/' + item.cover;
    wallEl.appendChild(video);
  }
});

// 相册区支持视频
const albumData = [
  { img: "album1.jpg", desc: "图片页", date: "2025.02.15" },
  { img: "album2.jpg", desc: "图片页", date: "2025.02.13" },
  { img: "album3.jpg", desc: "图片页", date: "2025.02.13" },
  { img: "album4.jpg", desc: "图片页", date: "2025.02.14" },
  { img: "album5.jpg", desc: "图片页", date: "2025.02.14" },
  { img: "album6.jpg", desc: "图片页", date: "2025.02.14" },
  { img: "album7.jpg", desc: "图片页", date: "2025.02.14" },
  { img: "album8.jpg", desc: "图片页", date: "2024.10.29" },
  { img: "album9.jpg", desc: "图片页", date: "2024.11.01" },
  { img: "album10.jpg", desc: "图片页", date: "2024.11.01" },
  { img: "album11.jpg", desc: "图片页", date: "2024.01.01" },
  { img: "album12.jpg", desc: "图片页", date: "2024.11.01" },
  { img: "album13.jpg", desc: "图片页", date: "2024.11.01" },
  { img: "album14.jpg", desc: "图片页", date: "2024.11.01" },
  { img: "album15.jpg", desc: "图片页", date: "2024.11.01" },
  { img: "album16.jpg", desc: "图片页", date: "2024.11.01" },
  { img: "album17.jpg", desc: "图片页", date: "2024.11.01" },
];

function renderAlbum(idx) {
  const data = albumData[idx];
  const albumImgEl = document.getElementById('albumImg');
  // 移除旧video
  if (albumImgEl.nextElementSibling && albumImgEl.nextElementSibling.className === "album-video") {
    albumImgEl.nextElementSibling.remove();
  }
  albumImgEl.style.display = "none";
  if (!data.type) {
    // 图片
    albumImgEl.src = './album/' + data.img;
    albumImgEl.alt = data.desc;
    albumImgEl.style.display = "";
  } else if (data.type === "video") {
    // 视频
    const video = document.createElement('video');
    video.src = './album/' + data.src;
    video.className = 'album-video';
    video.controls = true;
    video.preload = "none";
    video.style.width = "98%";
    video.style.maxHeight = "370px";
    video.style.borderRadius = "16px";
    video.style.background = "#eaf6ff";
    if (data.cover) video.poster = './album/' + data.cover;
    albumImgEl.parentNode.insertBefore(video, albumImgEl.nextSibling);
  }
  // document.getElementById('albumDesc').innerText = data.desc;
  document.getElementById('albumDate').innerText = data.date;
  // ...小圆点同前
}


  // --- 樱花飘落特效 ---
  const canvas = document.getElementById('sakuraCanvas');
  let width = window.innerWidth, height = window.innerHeight;
  canvas.width = width; canvas.height = height;
  function random(min, max) { return Math.random() * (max - min) + min; }
  class Sakura {
    constructor() { this.reset(); }
    reset() {
      this.x = random(0, width);
      this.y = random(-50, height * 0.6);
      this.r = random(6, 14);
      this.angle = random(0, Math.PI * 2);
      this.speed = random(1.1, 2.1);
      this.rotateSpeed = random(0.007, 0.017);
      this.opacity = random(0.6, 0.9);
      this.swing = random(10, 26);
      this.swingSpeed = random(0.008, 0.016);
      this.swingAngle = random(0, Math.PI * 2);
      // 蓝白色樱花
      this.color = `rgba(${Math.floor(random(170,210))},${Math.floor(random(220,240))},255,${this.opacity})`;
    }
    update() {
      this.y += this.speed;
      this.angle += this.rotateSpeed;
      this.swingAngle += this.swingSpeed;
      this.x += Math.sin(this.swingAngle) * 0.7;
      if (this.y > height + 30 || this.x < -30 || this.x > width + 30) {
        this.reset();
        this.y = -30;
      }
    }
    draw(ctx) {
      ctx.save();
      ctx.translate(this.x, this.y);
      ctx.rotate(this.angle);
      for (let i = 0; i < 5; i++) {
        ctx.rotate(Math.PI * 2 / 5);
        ctx.beginPath();
        ctx.moveTo(0, 0);
        ctx.quadraticCurveTo(this.r*0.45, -this.r*0.1, this.r*0.6, -this.r*0.8);
        ctx.quadraticCurveTo(0, -this.r*0.7, -this.r*0.6, -this.r*0.8);
        ctx.quadraticCurveTo(-this.r*0.45, -this.r*0.1, 0, 0);
        ctx.closePath();
        ctx.fillStyle = this.color;
        ctx.shadowColor = "#c7e7ff";
        ctx.shadowBlur = 8;
        ctx.fill();
      }
      ctx.restore();
    }
  }
  let sakuras = [];
  function createSakuras() {
    sakuras = [];
    for(let i=0;i<33;i++) sakuras.push(new Sakura());
  }
  function animate() {
    const ctx = canvas.getContext('2d');
    ctx.clearRect(0,0,width,height);
    for(let i=0;i<sakuras.length;i++) {
      sakuras[i].update();
      sakuras[i].draw(ctx);
    }
    requestAnimationFrame(animate);
  }
  createSakuras();
  animate();
  window.addEventListener('resize', ()=>{
    width = window.innerWidth;
    height = window.innerHeight;
    canvas.width = width; canvas.height = height;
    createSakuras();
  });
  let albumIdx = 0;
renderAlbum(albumIdx);

// 左右翻页按钮
document.getElementById('prevAlbum').onclick = function() {
  albumIdx = (albumIdx - 1 + albumData.length) % albumData.length;
  renderAlbum(albumIdx);
};
document.getElementById('nextAlbum').onclick = function() {
  albumIdx = (albumIdx + 1) % albumData.length;
  renderAlbum(albumIdx);
};

</script>
</body>
</html>
